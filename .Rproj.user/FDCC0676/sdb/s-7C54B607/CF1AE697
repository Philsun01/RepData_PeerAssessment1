{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Reproducible Research: Peer Assessment 1\"\noutput: \n  html_document:\n    keep_md: true\n---\n## Load libraries\n```{r Libraries, results=\"hide\"}\nlibrary(dplyr)\nlibrary(lattice)\n\n```\n\n## Loading and preprocessing the data\n```{r Loading Data, echo = TRUE}\nact <- read.csv(\"activity.csv\", stringsAsFactors = FALSE)\nsummary(act)\n```\n\nSince there is a date value, we will convert that into a date class.\n```{r Convert Date, echo = TRUE}\nact_date <- as.Date(act$date)\n\n```\n\n\nThere are many NA's in the Steps column, we'll convert those to zero to avoid issues with plotting.\n```{r Remove NA, echo = TRUE}\nact$steps <- as.integer(act$steps)\n```\n\n## What is mean total number of steps taken per day?\n\nFirst we group the steps by day.\n\n```{r daily step histogram, echo = TRUE}\nact_day <- summarize(group_by(act,date), \n                     steps = sum(steps, na.rm = TRUE))\nprint(act_day)\nhist(act_day$steps, main = \"Histogram of Daily Steps\", xlab = \"Daily Step Ranges\", ylab = \"Step Count\")\n```\n\nNow we calculate the Mean and Median\n```{r average daily steps, echo = TRUE}\n\ndaily_steps_mean <- round(mean(act_day$steps))\nprint(paste(\"Average Daily Steps is\", daily_steps_mean))\n\ndaily_steps_med <- round(median(act_day$steps))\nprint(paste(\"Median Daily Steps is\", daily_steps_med))\n```\n##**Average Daily Steps is 9354**\n##**Median Daily Steps is 10395**\n\n## What is the average daily activity pattern?\nFirst we make a time series chart of all 5 min5ute intervals and calculate the average steps taken every 5 min5utes.\n```{r Interval, echo=TRUE}\nmin5 <- summarise(group_by(act,interval), steps = mean(steps, na.rm = TRUE))\n\nplot(min5$interval, min5$steps, type = \"l\", main = \"Average Steps for each 5 min interval\", xlab = \"Interval\", ylab = \"Steps\")\n\nmax_pos <- match(max(min5$steps),min5$steps)\nprint( paste0(\"The highest steps interval is \", min5$interval[max_pos] ) )\n```\n##**Highest Step interval is 835**\n\n## Inputing missing values\nFirst we check for how many incomplete rows there are: \n```{r Missing Values, echo = TRUE}\nact2 <- act\nfor(i in names(act2)){\n    print(paste0(\"Column \", i, \n                 \" has \",\n                 sum(is.na(act2[i])) ,\n                 \" NA's\"))\n}\n```\nThere are 2304 incomplete rows all in the steps column.  We will attempt to substitute and fill in those empty cells with the mean across all intervals.\n\n```{r Subbing Values, echo = TRUE}\n    pos <- 0\n    for( i in act2$steps){\n        pos <- pos + 1\n        if(is.na(i)){\n            inter <- act2$interval[pos]\n            inter_pos <- which(act2$interval == inter)\n            int_mean <- mean(act2$steps[inter_pos], na.rm = TRUE)\n            act2$steps[pos] <- round(int_mean)\n        }\n    }\n```\n\nNow we look at the new stats for the filled in dataframe:\n```{r Checking filled in data, echo = TRUE}\nact2_day <- summarize(group_by(act2,date), \n                     steps = sum(steps, na.rm = TRUE))\n\ndaily_steps_mean2 <- round(mean(act2_day$steps))\nprint(paste(\"Average Daily Steps is with filled in values\", daily_steps_mean2))\n\ndaily_steps_med2 <- round(median(act2_day$steps))\nprint(paste(\"Median Daily Steps with filled in values is\", daily_steps_med2))\n\nhist(act2_day$steps, main = \"Histogram of Daily Steps\", xlab = \"Step Range\", ylab = \"Steps\")\n\n```\n\nAfter filling the values, it is clear from the historgrams that the daily step values have shifted toward the median.\n\n### Are there differences in activity patterns between weekdays and weekends?\n\nWe first label what day of the week each date is and break the data down inbetween weekend and weekday\n\n```{r Weekday converstion, echo = TRUE}\n#First we create a column of day names\nact2$day <- weekdays(as.Date(act2$date), abbreviate = TRUE)\n#Then we create a column of weekday or weekend types.(Weekday by Default)\nact2$day_type <- \"Weekday\"\n#Now we run a GREP search of all cells that contain \"SUN\"\" or \"SAT\"\" and replace that column type with \"Weekend\"\nact2[ grep(\"Sun|Sat\",act2$day),\"day_type\"] <- \"Weekend\"\nact2$day_type <- as.factor(act2$day_type)\n```\n\nNow we plot the 2 data sets\n\n```{r Plot weekday vs weekend, echo = TRUE}\nxyplot(steps~interval|day_type, type = \"l\", data = act2, layout = c(1,2))\n```\n\nThe overlayed graphs show there is more steps taken during weekday mornings, and then some more in the evening while the weekends have a more even spread of walking throughout the day.",
    "created" : 1497994894547.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3673207763",
    "id" : "CF1AE697",
    "lastKnownWriteTime" : 1497995620,
    "last_content_update" : 1497995620263,
    "path" : "~/Desktop/Coursera_R/Markdown_Project/RepData_PeerAssessment1/PA1_template.Rmd",
    "project_path" : "PA1_template.Rmd",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}